<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpsGuard AI ‚Äî Autonomous Incident Response</title>
    <meta name="description"
        content="Multi-agent autonomous incident response system built on Elastic Agent Builder. Detect, diagnose, assess, and resolve production incidents in seconds.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Animated Background -->
    <div class="bg-grid"></div>
    <div class="bg-glow bg-glow-1"></div>
    <div class="bg-glow bg-glow-2"></div>
    <div class="bg-glow bg-glow-3"></div>

    <!-- Top Navigation -->
    <nav class="navbar">
        <div class="nav-brand">
            <div class="logo-icon">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <path d="M16 2L28 8V24L16 30L4 24V8L16 2Z" fill="url(#shield-grad)" stroke="rgba(0,191,179,0.6)"
                        stroke-width="1.5" />
                    <path d="M16 8L22 11V21L16 24L10 21V11L16 8Z" fill="rgba(0,191,179,0.2)"
                        stroke="rgba(0,191,179,0.8)" stroke-width="1" />
                    <circle cx="16" cy="16" r="3" fill="#00BFB3" />
                    <defs>
                        <linearGradient id="shield-grad" x1="4" y1="2" x2="28" y2="30">
                            <stop offset="0%" stop-color="rgba(0,191,179,0.15)" />
                            <stop offset="100%" stop-color="rgba(0,85,117,0.25)" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <span class="brand-text">OpsGuard <span class="brand-ai">AI</span></span>
        </div>
        <div class="nav-status">
            <div class="status-pulse" id="systemStatusPulse"></div>
            <span class="status-text" id="systemStatusText">System Monitoring Active</span>
            <span class="badge badge-demo" id="dataSourceBadge"
                title="Run configureES(url, key) in console to connect">DEMO MODE</span>
        </div>
        <div class="nav-actions">
            <button class="btn btn-ghost" id="btnRefresh">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path
                        d="M13.65 2.35A7.958 7.958 0 0 0 8 0C3.58 0 0 3.58 0 8s3.58 8 8 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 8 14 6 6 0 1 1 8 2c1.66 0 3.14.69 4.22 1.78L9 7h7V0l-2.35 2.35z" />
                </svg>
                Refresh
            </button>
            <button class="btn btn-primary" id="btnScanNow">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M8 0C3.58 0 0 3.58 0 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm1 12H7v-2h2v2zm0-4H7V4h2v4z" />
                </svg>
                Run Full Scan
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Status Cards Row -->
        <section class="status-cards">
            <div class="card status-card" data-status="healthy" id="cardServices">
                <div class="card-icon services-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="3" width="20" height="5" rx="1" />
                        <rect x="2" y="10" width="20" height="5" rx="1" />
                        <rect x="2" y="17" width="20" height="5" rx="1" />
                        <circle cx="7" cy="5.5" r="1" fill="currentColor" />
                        <circle cx="7" cy="12.5" r="1" fill="currentColor" />
                        <circle cx="7" cy="19.5" r="1" fill="currentColor" />
                    </svg>
                </div>
                <div class="card-content">
                    <span class="card-label">Services</span>
                    <span class="card-value" id="healthyCount">7/8</span>
                    <span class="card-detail" id="serviceDetail">1 degraded</span>
                </div>
                <div class="card-indicator" id="serviceIndicator"></div>
            </div>

            <div class="card status-card" data-status="warning" id="cardIncidents">
                <div class="card-icon incidents-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z" />
                        <line x1="12" y1="9" x2="12" y2="13" />
                        <circle cx="12" cy="17" r="0.5" fill="currentColor" />
                    </svg>
                </div>
                <div class="card-content">
                    <span class="card-label">Active Incidents</span>
                    <span class="card-value" id="incidentCount">1</span>
                    <span class="card-detail" id="incidentDetail">CRITICAL: payment-service</span>
                </div>
                <div class="card-indicator warning-pulse"></div>
            </div>

            <div class="card status-card" data-status="impact" id="cardRevenue">
                <div class="card-icon revenue-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23" />
                        <path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6" />
                    </svg>
                </div>
                <div class="card-content">
                    <span class="card-label">Revenue Impact</span>
                    <span class="card-value impact-value" id="revenueImpact">-$12,450/hr</span>
                    <span class="card-detail" id="revenueDetail">Projected 4hr loss: $49,800</span>
                </div>
                <div class="card-indicator"></div>
            </div>

            <div class="card status-card" data-status="metric" id="cardMTTR">
                <div class="card-icon mttr-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10" />
                        <polyline points="12 6 12 12 16 14" />
                    </svg>
                </div>
                <div class="card-content">
                    <span class="card-label">Avg MTTR</span>
                    <span class="card-value mttr-value" id="mttrValue">1m 42s</span>
                    <span class="card-detail" id="mttrDetail">vs 2.5hr industry avg</span>
                </div>
                <div class="card-indicator"></div>
            </div>
        </section>

        <!-- Main Grid -->
        <div class="main-grid">
            <!-- Agent Activity Panel -->
            <section class="card agent-panel" id="agentPanel">
                <div class="card-header">
                    <h2>ü§ñ Agent Activity</h2>
                    <span class="badge badge-live">LIVE</span>
                </div>
                <div class="agent-flow" id="agentFlow">
                    <!-- Agent nodes rendered by JS -->
                </div>
                <div class="agent-timeline" id="agentTimeline">
                    <!-- Timeline entries rendered by JS -->
                </div>
            </section>

            <!-- Incident Detail Panel -->
            <section class="card incident-panel" id="incidentPanel">
                <div class="card-header">
                    <h2>üìã Incident Report</h2>
                    <span class="badge badge-critical">CRITICAL</span>
                </div>
                <div class="incident-content" id="incidentContent">
                    <!-- Incident details rendered by JS -->
                </div>
            </section>
        </div>

        <!-- Bottom Grid -->
        <div class="bottom-grid">
            <!-- Service Health Grid -->
            <section class="card services-panel">
                <div class="card-header">
                    <h2>üñ•Ô∏è Service Health</h2>
                </div>
                <div class="services-grid" id="servicesGrid">
                    <!-- Service cards rendered by JS -->
                </div>
            </section>

            <!-- Metrics Chart -->
            <section class="card metrics-panel">
                <div class="card-header">
                    <h2>üìà System Metrics</h2>
                    <div class="time-selector">
                        <button class="time-btn active" data-range="15m">15m</button>
                        <button class="time-btn" data-range="1h">1h</button>
                        <button class="time-btn" data-range="4h">4h</button>
                    </div>
                </div>
                <div class="chart-container" id="metricsChart">
                    <canvas id="cpuChart"></canvas>
                </div>
            </section>
        </div>
    </main>

    <script src="es-connector.js"></script>
    <script src="app.js"></script>
</body>

</html>